---
title: "AM02 LoRa Module proto-board"
excerpt: "Designing a custom PCB for the Heltec PSOC"
header:
  image: /assets/IMG/AM02/pcb.jpg
  teaser: /assets/IMG/AM02/pcb.jpg
gallery:
  - url: /assets/IMG/pcb.jpg
    image_path: /assets/IMG/pcb.jpg
  - url: /assets/IMG/AM02/AM02_pcb_rendering.png
    image_path: /assets/IMG/AM02/AM02_pcb_rendering.png
    alt: "easyeda pcb rendering"
author_profile: true
toc: true
toc_label: "Table of content"
toc_icon: "bolt" 
---
# PCB design 

I have recently purchased some AM02 PSOC lora modules from Heltec and decided to test them embedded with a proper PCB. ![AM02](/assets/IMG/AM02/AM02_pinout.png) 

The documentation for [Arduino-compatible modules](https://heltec-automation-docs.readthedocs.io/en/latest/cubecell/module/htcc-am02/index.html) suggests the basic passives components for a minimal configuration, autoboot with AO3400 MOSFETS, circuitry to shut down sensors during deep-sleep and battery reading via one of the 3 ACDs. 

![AM02](/assets/IMG/AM02/AM02_U_schematics.png) 

I decided to test a few GPIO, I2C, and one ADC channel.

{% include gallery caption="This is a sample gallery to go along with this case study." %}

## Understanding Vext and Battery check

Given that I'm not familiar with MOSFET, it was very helpful to run a simulation of the Vext control. Both MOSFET are controlled by GPIO15 and have pull-up resistors. When GPIO15 is set to LOW, the Vext channel is open and the ADC read the battery voltage through a voltage divider (220k--|--100K).
![AM02](/assets/IMG/AM02/AM02_vext_ADC.png) 

Click on the image to open up the simulation and observe the behavior of the battery check and Vext control >>>
[![](/assets/IMG/AM02/am02_vext.png)](https://tinyurl.com/ye5n64h7 "go to simulation")

## FlatCAM to gcode
[FlatCAM](https://bitbucket.org/jpcgt/flatcam/src)

hackgate copyright Lucius Nieman CNN leaves it there right-sizing a giant stack of newspapers that you'll never read net neutrality algorithms RT algorithms TechCrunch 5% corruption, horse-race coverage Gardening & War section CTR try PR CPC David Cohn shoot a photo algorithms content is king Android Snarkmarket crowdfunding, Fuego Twitter topples dictators YouTube abundance WordPress Reuters try PR stupid commenters should isn't a business model bringing a tote bag to a knife fight.
